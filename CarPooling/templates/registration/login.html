{% extends 'basebs.html' %}

{% load crispy_forms_tags %} 
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> 

{% block title %} Login {% endblock %} 

{% block header1 %}
  <div class="header-background">
    <h1> Login </h1>
  </div>
{% endblock %}

{% block content %}

<!-- Log:message section -->
<div id="message-container" class="container mt-4">
  {% if request.GET.msg == 'success' %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      You have successfully create a new User. Please Login. 
    </div>
  {% endif %}
</div>

<script>
  setTimeout(function() {
    var messageContainer = document.getElementById('message-container');
    if (messageContainer) {
      messageContainer.classList.add('fade-out'); 
      setTimeout(function() {
        messageContainer.style.display = 'none';
      }, 3000); 
    }
  }, 2000);
</script>
<!----------------------->
<br><br><br>

{% if "needed" in request.GET.login %}
<div class="alert alert-danger" role="alert">
  <i class="bi bi-exclamation-triangle"></i> You have arrived here because you do not have the necessary permissions for the chosen service! Please sign in.
</div>
{% endif %}

<div class="col-md-6">
  <form method="post"> {% csrf_token %}

    {{form | crispy }}   
    
    <input type="submit" class="btn btn-success" value="Esegui login">
    
    </form>
</div>

{% endblock %}
