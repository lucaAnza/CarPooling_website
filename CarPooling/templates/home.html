{% extends 'basebs.html' %}

{% load static %}

{% block title %} Car Pooling Home {% endblock %} 

{% block header1 %}
  <div class="header-background">
    <h1>Home</h1>
    <p>Homepage of car pooling website!</p> 
  </div>
{% endblock %}

{% block content %} 



<!-- Log:message section -->
<div id="message-container" class="container mt-4">
  {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
      {{ message }}
    </div>
  {% endfor %}
</div>

<script>
  setTimeout(function() {
    var messageContainer = document.getElementById('message-container');
    if (messageContainer) {
      messageContainer.classList.add('fade-out'); 
      setTimeout(function() {
        messageContainer.style.display = 'none';
      }, 2000); 
    }
  }, 1000);
</script>
<!----------------------->


<!--Site-descriptions-->
<br><br>
<div class="jumbotron" style="background: url('/static/img/test.jpg') no-repeat center center; background-size: cover; color: rgb(255, 255, 255);">
  <h1 style="background: linear-gradient(to right, #343A40, #3d6b4f) black; border-radius: 50px; padding: 20px;" class="display-4">Welcome to Car Pooling website <i class="bi bi-car-front-fill"></i> </h1>
  <p style="background: linear-gradient(to right, #3d6b4f, #343A40) black; border-radius: 50px; padding: 10px;" class="lead">This website facilitates car pooling by connecting drivers with empty seats to passengers looking for a ride, helping to reduce traffic congestion and environmental impact <i class="bi bi-recycle"></i></p>
</div>
<br>
<div style="background: linear-gradient(to right, #d9eafc, #b2d7e7); padding: 20px; text-align: center; border-radius: 10px;">

<!--Most Popular destinations-->
<h3> The most popular destinations <i class="bi bi-award-fill"></i> </h3>
<br>
<div class="container text-center">
  <div class="row justify-content-start">

    {% for destination in top_destination %}
    <div class="col-auto card-container">
      <div class="card" style="width: 18rem;">
        <h4> <span class="badge rounded-pill text-bg-info"> {{destination.arrival_location}} </span> </h4>
        {% if destination.image %}
          <img src="{{ destination.image.url }}" height="200px" alt="city_img">
        {% else %}  
            <img src="{% static '/img/no_img.jpg' %}" height="200px" alt="default_city_img">
        {% endif %}
        <div class="card-body">
          <a href="{% url 'search_results_trip' destination.arrival_location 'Destination' %}" style = "background-color: rgb(16, 167, 255); border-color: black ;" class="btn btn-primary btn-sm"> Search a trip for {{destination.arrival_location}} <i class="bi bi-search"></i> </a>
        </div>
      </div>
    </div>
    {% endfor %}

  </div>
</div>


{% endblock %}